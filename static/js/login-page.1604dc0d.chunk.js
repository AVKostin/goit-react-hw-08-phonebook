(self.webpackChunkgoit_react_hw_08_phonebook=self.webpackChunkgoit_react_hw_08_phonebook||[]).push([[88],{9376:function(e,r,a){"use strict";a.d(r,{Q:function(){return s}});var t=a(6373),n="LoaderButton_wrapper__pjSem",o=a(184),s=function(){return(0,o.jsx)("div",{className:n,children:(0,o.jsx)(t.iT,{ariaLabel:"loading-indicator",height:35,width:35,strokeWidth:8,color:"white",secondaryColor:"red"})})}},4489:function(e,r,a){"use strict";a.r(r),a.d(r,{default:function(){return W}});var t=a(5861),n=a(4942),o=a(1413),s=a(885),i=a(7757),c=a.n(i),l=a(2791),d=a(3504),m=a(6871),u=a(9434),p=a(7107),h=a(7012),g=a(1614),f=a(4708),Z=a(4554),x=a(3044),v=a(890),b=a(4953),w=a(5523),j=a(9174),k=a(6151),S=a(1889),y=a(403),_=a(6258),C=a(2286),P=a(9376),R=a(9774),U=a(184),I=a(9704),N=(0,p.Z)();function T(){var e=(0,m.s0)(),r=(0,u.I0)(),a=(0,u.v9)(C.Z.getIsLoading),i=l.useState({email:"",password:"",checkedRemember:!1}),p=(0,s.Z)(i,2),T=p[0],W=p[1],D=l.useState({email:"",password:""}),E=(0,s.Z)(D,2),J=E[0],O=E[1];l.useEffect((function(){if(localStorage.getItem("savedUser")){var e=localStorage.getItem("savedUser"),r=I.AES.decrypt(e,"savedUser"),a=JSON.parse(JSON.parse(r.toString(I.enc.Utf8))),t=a.email,n=a.password,s=a.checkedRemember;W((0,o.Z)((0,o.Z)({},T),{},{email:t,password:n,checkedRemember:s}))}}),[]);var q=function(e,r){return r?(O((0,o.Z)((0,o.Z)({},J),{},(0,n.Z)({},e,""))),!0):(O((0,o.Z)((0,o.Z)({},J),{},(0,n.Z)({},e,"".concat(e," is required")))),!1)},A=function(e){var r=e.target,a=r.name,t=r.value;W((0,o.Z)((0,o.Z)({},T),{},(0,n.Z)({},a,t)))},L=function(){var a=(0,t.Z)(c().mark((function a(t){var n,s,i,l;return c().wrap((function(a){for(;;)switch(a.prev=a.next){case 0:if(t.preventDefault(),n=new FormData(t.currentTarget),s={email:n.get("email"),password:n.get("password")},i=JSON.stringify((0,o.Z)((0,o.Z)({},s),{},{checkedRemember:T.checkedRemember})),!q("email",s.email)||!q("password",s.password)){a.next=16;break}return l=I.AES.encrypt(JSON.stringify(i),"savedUser").toString(),T.checkedRemember?localStorage.setItem("savedUser",l):localStorage.removeItem("savedUser"),a.prev=7,a.next=10,r((0,_.pH)(s)).unwrap();case 10:e(R.P.contactsPage),a.next=16;break;case 13:a.prev=13,a.t0=a.catch(7),console.warn(a.t0);case 16:case"end":return a.stop()}}),a,null,[[7,13]])})));return function(e){return a.apply(this,arguments)}}();return(0,U.jsx)(h.Z,{theme:N,children:(0,U.jsxs)(g.Z,{component:"main",maxWidth:"xs",children:[(0,U.jsx)(f.ZP,{}),(0,U.jsxs)(Z.Z,{sx:{marginTop:3,display:"flex",flexDirection:"column",alignItems:"center"},children:[(0,U.jsx)(x.Z,{sx:{m:1,bgcolor:"secondary.main"},children:(0,U.jsx)(y.Z,{})}),(0,U.jsx)(v.Z,{component:"h1",variant:"h5",children:"Sign in"}),(0,U.jsxs)(Z.Z,{component:"form",onSubmit:L,noValidate:!0,sx:{my:3},children:[(0,U.jsx)(b.Z,{margin:"normal",error:!!J.email,helperText:J.email,required:!0,fullWidth:!0,id:"email",name:"email",value:T.email,label:"Email Address",autoComplete:"email",autoFocus:!0,onChange:A}),(0,U.jsx)(b.Z,{margin:"normal",error:!!J.password,helperText:J.password,required:!0,fullWidth:!0,id:"password",name:"password",value:T.password,type:"password",label:"Password",autoComplete:"current-password",onChange:A}),(0,U.jsx)(w.Z,{control:(0,U.jsx)(j.Z,{checked:T.checkedRemember,onChange:function(e){W((0,o.Z)((0,o.Z)({},T),{},{checkedRemember:e.target.checked}))},inputProps:{"aria-label":"controlled"},value:"remember",color:"primary"}),label:"Remember me"}),(0,U.jsx)(k.Z,{type:"submit",fullWidth:!0,variant:"contained",sx:{mt:3,mb:2,":hover":{bgcolor:"rgba(39, 183, 35, 0.459)",color:"black"}},children:a?(0,U.jsx)(P.Q,{}):"Sign In"}),(0,U.jsx)(S.ZP,{container:!0,justifyContent:"center",children:(0,U.jsx)(S.ZP,{item:!0,children:(0,U.jsx)(d.rU,{to:R.P.registerPage,children:"Don't have an account? Sign Up"})})})]})]})]})})}var W=function(){return(0,U.jsx)(T,{})}},2480:function(){}}]);
//# sourceMappingURL=login-page.1604dc0d.chunk.js.map